(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{2742:function(e,n,t){"use strict";var r=t(5318),c=t(862);n.Z=void 0;var a=c(t(7294)),o=(0,r(t(2108)).default)(a.createElement("path",{d:"M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"}),"LocalHospital");n.Z=o},2714:function(e,n,t){"use strict";var r=t(5318),c=t(862);n.Z=void 0;var a=c(t(7294)),o=(0,r(t(2108)).default)(a.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity");n.Z=o},881:function(e,n,t){"use strict";t(5893),t(7294),t(3781);var r=t(8951),c=t.n(r);c().image,c().placeholder},9581:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ne}});var r=t(5893),c=t(809),a=t.n(c),o=t(2447),i=t(6265),s=t(4121),l=t(7294),d=(t(881),t(2522)),u=t.n(d),m=t(282),p=t(2714),h=t(9669),f=t.n(h),v=t(8502),x=t(1267),g=t(2122),_=t(1253),b=(t(5697),t(6010)),k=t(4699),w=t(3028),y=t(2601),j=t(5565),N=t(7812),E=l.forwardRef((function(e,n){var t=e.autoFocus,r=e.checked,c=e.checkedIcon,a=e.classes,o=e.className,i=e.defaultChecked,s=e.disabled,d=e.icon,u=e.id,m=e.inputProps,p=e.inputRef,h=e.name,f=e.onBlur,v=e.onChange,x=e.onFocus,j=e.readOnly,E=e.required,Z=e.tabIndex,C=e.type,I=e.value,O=(0,_.Z)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),S=(0,w.Z)({controlled:r,default:Boolean(i),name:"SwitchBase",state:"checked"}),M=(0,k.Z)(S,2),D=M[0],B=M[1],P=(0,y.Z)(),z=s;P&&"undefined"===typeof z&&(z=P.disabled);var F="checkbox"===C||"radio"===C;return l.createElement(N.Z,(0,g.Z)({component:"span",className:(0,b.Z)(a.root,o,D&&a.checked,z&&a.disabled),disabled:z,tabIndex:null,role:void 0,onFocus:function(e){x&&x(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){f&&f(e),P&&P.onBlur&&P.onBlur(e)},ref:n},O),l.createElement("input",(0,g.Z)({autoFocus:t,checked:r,defaultChecked:i,className:a.input,disabled:z,id:F&&u,name:h,onChange:function(e){var n=e.target.checked;B(n),v&&v(e,n)},readOnly:j,ref:p,required:E,tabIndex:Z,type:C,value:I},m)),D?c:d)})),Z=(0,j.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(E),C=t(5209),I=(0,C.Z)(l.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),O=(0,C.Z)(l.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),S=t(9693),M=(0,C.Z)(l.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),D=t(3871),B=l.createElement(O,null),P=l.createElement(I,null),z=l.createElement(M,null),F=l.forwardRef((function(e,n){var t=e.checkedIcon,r=void 0===t?B:t,c=e.classes,a=e.color,o=void 0===a?"secondary":a,i=e.icon,s=void 0===i?P:i,d=e.indeterminate,u=void 0!==d&&d,m=e.indeterminateIcon,p=void 0===m?z:m,h=e.inputProps,f=e.size,v=void 0===f?"medium":f,x=(0,_.Z)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),k=u?p:s,w=u?p:r;return l.createElement(Z,(0,g.Z)({type:"checkbox",classes:{root:(0,b.Z)(c.root,c["color".concat((0,D.Z)(o))],u&&c.indeterminate),checked:c.checked,disabled:c.disabled},color:o,inputProps:(0,g.Z)({"data-indeterminate":u},h),icon:l.cloneElement(k,{fontSize:void 0===k.props.fontSize&&"small"===v?v:k.props.fontSize}),checkedIcon:l.cloneElement(w,{fontSize:void 0===w.props.fontSize&&"small"===v?v:w.props.fontSize}),ref:n},x))})),A=(0,j.Z)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,S.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,S.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(F),G=t(5152),H=t(2742),q=t(8633),T=t(6455),Y=t.n(T),L=t(381),R=t.n(L),V=t(7343);function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var J=u().wrapper,W=(u().landing,u().landingText,u().landingImage,u().landingNavigationWrapper,u().childcom),K=u().iconMenu,Q=u().componet,U=u().center,ee=(0,G.default)((function(){return Promise.all([t.e(269),t.e(174)]).then(t.bind(t,9174))}),{ssr:!1,loadableGenerated:{webpack:function(){return[9174]},modules:["..\\routes\\soscenter\\Soscenter.component.jsx -> ../location/map"]}}),ne=function(){var e=(0,v.Z)(),n=(0,q.kP)(),t=(0,s.Z)(n,2),c=t[0],i=(t[1],l.useState()),d=(0,s.Z)(i,2),u=d[0],h=d[1],g=l.useState(1),_=(0,s.Z)(g,2),b=_[0],k=_[1],w=l.useState(null),y=(0,s.Z)(w,2),j=y[0],N=y[1],E=l.useState({food:!1,medicine:!1}),Z=(0,s.Z)(E,2),C=Z[0],I=Z[1],O=function(e,n){I($($({},C),{},"remark"===e?{remark:n.target.value}:"food"===e?{food:n.target.checked}:{medicine:n.target.checked}))},S=function(){var n=(0,o.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(C.food||C.medicine){n.next=3;break}return Y().fire({icon:"info",title:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e2d\u0e32\u0e2b\u0e32\u0e23\u0e2b\u0e23\u0e37\u0e2d\u0e22\u0e32",showConfirmButton:!1,timer:1500}),n.abrupt("return");case 3:return n.next=5,f().get("https://ess.aapico.com/users?username=".concat(c.user.name)).then(function(){var n=(0,o.Z)(a().mark((function n(t){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f().get("https://ess.aapico.com/homeisolations?username=".concat(c.user.name,"&date=").concat((new(R())).format("YYYYMMDD"))).then(function(){var n=(0,o.Z)(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.data[0]){n.next=5;break}return n.next=3,f().put("https://ess.aapico.com/homeisolations/".concat(r.data[0].id),{remark:C.remark||null,food:C.food,medicine:C.medicine,location:{address:"".concat(u.tambon_e,",").concat(u.amphoe_e,",").concat(u.province_e,",").concat(u.postcode),coordinates:{lat:e.latitude,lon:e.longitude}},image:t.data[0].avatar?"https://ess.aapico.com".concat(t.data[0].avatar.url," "):null}).then((function(e){Y().fire({icon:"success",title:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",showConfirmButton:!1,timer:1500})}));case 3:n.next=7;break;case 5:return n.next=7,f().post("https://ess.aapico.com/homeisolations",{remark:C.remark||null,date:(new(R())).format("YYYYMMDD"),username:c.user.name,food:C.food,medicine:C.medicine,location:{address:"".concat(u.tambon_e,",").concat(u.amphoe_e,",").concat(u.province_e,",").concat(u.postcode),coordinates:{lat:e.latitude,lon:e.longitude}},image:t.data[0].avatar?"https://ess.aapico.com".concat(t.data[0].avatar.url," "):null}).then((function(e){Y().fire({icon:"success",title:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",showConfirmButton:!1,timer:1500})}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();l.useEffect((0,o.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("https://ess.aapico.com/homeisolations?username=".concat(c.user.name,"&_sort=date:DESC")).then((function(e){return N(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),2===b&&n();case 2:case"end":return e.stop()}}),e)}))),[b]),l.useEffect((0,o.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=function(){var n=(0,o.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f().get("https://search.map.powermap.in.th/api/v2/map/reverse_geocode?lat=".concat(e.latitude,"&lng=").concat(e.longitude,"&sort=d&&access_token=b378c575291af30a29f59919fd7e7e4c012d45c4")).then((function(e){return e}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e.loading||t().then((function(e){h(e.data.data[0])}));case 2:case"end":return n.stop()}}),n)}))),[e.loading]);var M=function(){var e=(0,o.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().put("https://ess.aapico.com/homeisolations/".concat(n),{receive:!0}).then(function(){var e=(0,o.Z)(a().mark((function e(t){var r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.data),(r=j.find((function(e){return e.id===n}))).receive=t.data.receive,(c=j.filter((function(e){return e.id!=n}))).push(r),N(c),Y().fire({icon:"success",title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e2b\u0e32\u0e23/\u0e22\u0e32 \u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",showConfirmButton:!1,timer:1500});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return 1===b?(0,r.jsx)("div",{className:J,children:(0,r.jsxs)("div",{className:W,style:{fontFamily:"Bai Jamjuree",overflowX:"hidden",color:"black"},children:[(0,r.jsx)("div",{style:{backgroundColor:"#ECECED",height:"10%"},className:"flex justify-end pr-4 w-screen",children:(0,r.jsxs)("div",{onClick:function(){return k(2)},className:"flex-col justify-center items-center text-center",children:[(0,r.jsx)(p.Z,{style:{fontSize:"6vh"}}),(0,r.jsx)("p",{children:"My request"})]})}),(0,r.jsx)("div",{style:{height:"30%"},className:"text-center  w-screen ",children:e.latitude&&(0,r.jsx)(ee,{lat:e.latitude,lon:e.longitude})}),(0,r.jsxs)("div",{className:Q,style:{backgroundColor:"#ECECED"},children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(H.Z,{className:K})}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:U,children:(0,r.jsxs)("div",{className:"px-4",children:[(0,r.jsx)("p",{className:"font-bold pt-2",children:"My Location"}),u?(0,r.jsxs)("p",{className:"mt-3",children:[u.tambon_e,",",u.amphoe_e,",",u.province_e,",",u.postcode]}):null,(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:"w-ful h-0.5 bg-black"}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:"flex items-center justify-center text-center ",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(A,{checked:C.food,onChange:function(e){return O("food",e)},name:"checkedB",color:"primary"}),(0,r.jsx)("p",{children:"\u0e2d\u0e32\u0e2b\u0e32\u0e23"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(A,{checked:C.medicine,onChange:function(e){return O("medicine",e)},name:"checkedB",color:"primary"}),(0,r.jsx)("p",{children:"\u0e22\u0e32"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}),(0,r.jsx)(V.Z,{"aria-label":"minimum height",onChange:function(e){return O("remark",e)},minRows:3,placeholder:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"})]}),(0,r.jsx)("div",{className:"mt-2 w-full text-center",children:(0,r.jsx)(m.Z,{onClick:function(){return S()},variant:"contained",color:"primary",children:"Submit"})})]})})})]})]})}):(0,r.jsx)("div",{className:J,children:(0,r.jsx)("div",{className:W,style:{fontFamily:"Bai Jamjuree",color:"black"},children:(0,r.jsxs)("div",{style:{backgroundColor:"#ECECED",height:"90%"},className:"flex-col justify-center pl-4 pr-4 w-screen",children:[(0,r.jsxs)("div",{onClick:function(){return k(1)},className:"flex-col justify-center items-center text-right",children:[(0,r.jsx)(p.Z,{style:{fontSize:"6vh"}}),(0,r.jsx)("p",{children:"Request"})]}),(0,r.jsx)("div",{className:"overflow-y-scroll",style:{height:"85%"},children:j&&j.map((function(e){return(0,r.jsxs)("div",{className:"mt-2 lg:flex shadow rounded-lg border  border-gray-400",children:[(0,r.jsx)("div",{className:"bg-blue-600 rounded-lg lg:w-2/12 py-2 block h-full shadow-inner",children:(0,r.jsxs)("div",{className:"text-center tracking-wide",children:[(0,r.jsx)("div",{className:"text-white font-bold text-2xl ",children:R()(e.date).format("DD")}),(0,r.jsx)("div",{className:"text-white font-normal text-xl",children:R()(e.date).format("MMM")})]})}),(0,r.jsx)("div",{className:"w-full  lg:w-11/12 xl:w-full px-1 bg-white lg:px-2 lg:py-2 tracking-wide",children:(0,r.jsxs)("div",{className:"font-semibold text-gray-800 text-xl pt-2 text-center lg:text-left px-2",children:[e.food&&(0,r.jsx)(x.Z,{label:"\u0e2d\u0e32\u0e2b\u0e32\u0e23",variant:"outlined",color:"primary",className:" m-1"}),e.medicine&&(0,r.jsx)(x.Z,{label:"\u0e22\u0e32",variant:"outlined",color:"primary",className:"m-1"})]})}),(0,r.jsx)("div",{className:"flex flex-row items-center w-full lg:w-1/3 bg-white lg:justify-end justify-center px-2 py-4 lg:px-0",children:!e.receive&&(0,r.jsx)(m.Z,{onClick:function(){return M(e.id)},variant:"contained",color:"primary",children:"\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e2d\u0e32\u0e2b\u0e32\u0e23/\u0e22\u0e32\u0e41\u0e25\u0e49\u0e27"})})]},e.id)}))})]})})})}},394:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/soscenter",function(){return t(9581)}])},8951:function(e){e.exports={image:"Image_image__1DE1A",imageContent:"Image_imageContent__2Beq2",placeholder:"Image_placeholder__3EwrN",IMAGE_LOADING:"Image_IMAGE_LOADING__1X8DB",placeholderAnimation:"Image_placeholderAnimation__3GrfH",IMAGE_LOADED:"Image_IMAGE_LOADED__3q7yg",IMAGE_NOT_FOUND:"Image_IMAGE_NOT_FOUND__1r1wC",IMAGE_NOT_SPECIFIED:"Image_IMAGE_NOT_SPECIFIED__1PX6P"}},2522:function(e){e.exports={wrapper:"Soscenter_wrapper__3hKHF",iconMenu:"Soscenter_iconMenu__2QlQB",center:"Soscenter_center__BYqTs",componet:"Soscenter_componet__2EXYc",childcom:"Soscenter_childcom__mgKbc",landing:"Soscenter_landing__28hRn",landingText:"Soscenter_landingText__3w1nw",landingNavigationWrapper:"Soscenter_landingNavigationWrapper__2R116",landingImage:"Soscenter_landingImage__1SJsn"}}},function(e){e.O(0,[885,883,774,888,179],(function(){return n=394,e(e.s=n);var n}));var n=e.O();_N_E=n}]);